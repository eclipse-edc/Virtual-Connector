<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="521px" height="431px" viewBox="-0.5 -0.5 521 431" style="background: transparent; background-color: transparent;" content="&lt;mxfile host=&quot;65bd71144e&quot;&gt;&lt;diagram id=&quot;nats-multi-worker&quot; name=&quot;Page-1&quot;&gt;&lt;mxGraphModel dx=&quot;1000&quot; dy=&quot;600&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;450&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;mxCell id=&quot;cp1&quot; value=&quot;Control Plane 1&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;120&quot; y=&quot;30&quot; width=&quot;140&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;cp2&quot; value=&quot;Control Plane 2&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;340&quot; y=&quot;30&quot; width=&quot;140&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;publisher&quot; value=&quot;NatsTaskPublisher (TaskListener)&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;210&quot; y=&quot;130&quot; width=&quot;180&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;nats&quot; value=&quot;NATS JetStream&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;210&quot; y=&quot;230&quot; width=&quot;180&quot; height=&quot;50&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;w1&quot; value=&quot;Worker 1&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;330&quot; width=&quot;90&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;w2&quot; value=&quot;Worker 2&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;130&quot; y=&quot;330&quot; width=&quot;90&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;w3&quot; value=&quot;Worker 3&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;240&quot; y=&quot;330&quot; width=&quot;90&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;dots&quot; value=&quot;...&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;350&quot; y=&quot;330&quot; width=&quot;40&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;wn&quot; value=&quot;Worker N&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;410&quot; y=&quot;330&quot; width=&quot;90&quot; height=&quot;40&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;executor&quot; value=&quot;TaskExecutor (same for all)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;160&quot; y=&quot;390&quot; width=&quot;200&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;">
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#666666"/>
        </marker>
    </defs>
    <g>
        <!-- Control Plane 1 -->
        <rect x="100" y="0" width="140" height="50" rx="8" ry="8" fill="#dae8fc" stroke="#6c8ebf" stroke-width="1.5"/>
        <text x="170" y="30" font-family="Helvetica, Arial, sans-serif" font-size="12" text-anchor="middle" fill="#000000">Control Plane 1</text>

        <!-- Control Plane 2 -->
        <rect x="320" y="0" width="140" height="50" rx="8" ry="8" fill="#dae8fc" stroke="#6c8ebf" stroke-width="1.5"/>
        <text x="390" y="30" font-family="Helvetica, Arial, sans-serif" font-size="12" text-anchor="middle" fill="#000000">Control Plane 2</text>

        <!-- Arrows from Control Planes to Publisher -->
        <path d="M 170 50 L 170 80 L 260 80 L 260 100" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
        <path d="M 390 50 L 390 80 L 300 80 L 300 100" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

        <!-- NatsTaskPublisher -->
        <rect x="170" y="100" width="220" height="50" rx="8" ry="8" fill="#d5e8d4" stroke="#82b366" stroke-width="1.5"/>
        <text x="280" y="122" font-family="Helvetica, Arial, sans-serif" font-size="12" text-anchor="middle" fill="#000000">NatsTaskPublisher</text>
        <text x="280" y="138" font-family="Helvetica, Arial, sans-serif" font-size="11" text-anchor="middle" fill="#000000">(TaskListener)</text>

        <!-- Arrow from Publisher to NATS -->
        <path d="M 280 150 L 280 200" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

        <!-- NATS JetStream -->
        <rect x="170" y="200" width="220" height="50" rx="8" ry="8" fill="#fff2cc" stroke="#d6b656" stroke-width="1.5"/>
        <text x="280" y="230" font-family="Helvetica, Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#000000">NATS JetStream</text>

        <!-- Arrows from NATS to Workers -->
        <path d="M 210 250 L 210 270 L 65 270 L 65 300" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
        <path d="M 240 250 L 240 280 L 175 280 L 175 300" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
        <path d="M 280 250 L 280 300" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
        <path d="M 320 250 L 320 280 L 455 280 L 455 300" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

        <!-- Worker 1 -->
        <rect x="20" y="300" width="90" height="40" rx="6" ry="6" fill="#f8cecc" stroke="#b85450" stroke-width="1.5"/>
        <text x="65" y="325" font-family="Helvetica, Arial, sans-serif" font-size="11" text-anchor="middle" fill="#000000">Worker 1</text>

        <!-- Worker 2 -->
        <rect x="130" y="300" width="90" height="40" rx="6" ry="6" fill="#f8cecc" stroke="#b85450" stroke-width="1.5"/>
        <text x="175" y="325" font-family="Helvetica, Arial, sans-serif" font-size="11" text-anchor="middle" fill="#000000">Worker 2</text>

        <!-- Worker 3 -->
        <rect x="235" y="300" width="90" height="40" rx="6" ry="6" fill="#f8cecc" stroke="#b85450" stroke-width="1.5"/>
        <text x="280" y="325" font-family="Helvetica, Arial, sans-serif" font-size="11" text-anchor="middle" fill="#000000">Worker 3</text>

        <!-- ... -->
        <text x="370" y="325" font-family="Helvetica, Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#000000">...</text>

        <!-- Worker N -->
        <rect x="410" y="300" width="90" height="40" rx="6" ry="6" fill="#f8cecc" stroke="#b85450" stroke-width="1.5"/>
        <text x="455" y="325" font-family="Helvetica, Arial, sans-serif" font-size="11" text-anchor="middle" fill="#000000">Worker N</text>

        <!-- Dashed bracket line -->
        <path d="M 40 350 L 480 350" stroke="#999999" stroke-width="1" stroke-dasharray="4,4" fill="none"/>

        <!-- TaskExecutor label -->
        <text x="260" y="390" font-family="Helvetica, Arial, sans-serif" font-size="12" font-style="italic" text-anchor="middle" fill="#000000">TaskExecutor (same for all)</text>

        <!-- Bracket arrows from workers to executor -->
        <path d="M 65 340 L 65 365" stroke="#999999" stroke-width="1" fill="none"/>
        <path d="M 175 340 L 175 365" stroke="#999999" stroke-width="1" fill="none"/>
        <path d="M 280 340 L 280 365" stroke="#999999" stroke-width="1" fill="none"/>
        <path d="M 455 340 L 455 365" stroke="#999999" stroke-width="1" fill="none"/>
    </g>
</svg>
